<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      data-namespace-typo3-fluid="true"
      lang="en">

<f:variable name="id"><f:if condition="{id}"> id={id}</f:if></f:variable>
<f:variable name="required">{f:if(condition: '{required}', then:'required')}</f:variable>
<f:variable name="required_attr">{f:if(condition: '{required}', then:'required="required"')}</f:variable>
<f:variable name="placeHolder">placeholder={f:if(condition: '{placeHolder}', then: placeHolder, else: title )}</f:variable>
<f:variable name="select2">{f:if(condition: '{select2}', then: 'data-s2=1')}</f:variable>
<f:variable name="classes">{f:if(condition: '{classes}', then: classes)}</f:variable>
<div class="row">
    <div class="col mb-3">
        <label>{title}
            <f:if condition="{required}"><span class="required">*</span></f:if>
        </label>
        <select {id} name="{name}"
                 class="form-control {required} {classes}"
                 {select2} {required_attr}>
            <option value="">{f:if(condition: '{placeholder}', then:'{placeholder}')}</option>
            <f:if condition="{options}">
                <f:for each="{options}" as="item" key="__key">
                    <f:variable name="title"><f:if condition="{item.title}">
                            <f:then>{item.title}</f:then>
                            <f:else>{item}</f:else>
                        </f:if></f:variable>
                    <f:if condition="{item.data}">
                        <f:then>
                            <option value="{__key}" {item.data}>{title}</option>
                        </f:then>
                        <f:else>
                            <option value="{__key}">{title}</option>
                        </f:else>
                    </f:if>
                </f:for>
            </f:if>
        </select>
    </div>
</div>
</html>
